<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Text Vector Visualisation | Visualisation of FastText Vectors Using TensorFlow 1 and 2</title>
<meta name="generator" content="Jekyll v4.0.0" />
<meta property="og:title" content="Text Vector Visualisation" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Visualisation of FastText Vectors Using TensorFlow 1 and 2" />
<meta property="og:description" content="Visualisation of FastText Vectors Using TensorFlow 1 and 2" />
<link rel="canonical" href="https://rohetoric.github.io/text-vector-visualisation/" />
<meta property="og:url" content="https://rohetoric.github.io/text-vector-visualisation/" />
<meta property="og:site_name" content="Text Vector Visualisation" />
<script type="application/ld+json">
{"description":"Visualisation of FastText Vectors Using TensorFlow 1 and 2","@type":"WebSite","url":"https://rohetoric.github.io/text-vector-visualisation/","name":"Text Vector Visualisation","headline":"Text Vector Visualisation","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/text-vector-visualisation/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="https://rohetoric.github.io/text-vector-visualisation/feed.xml" title="Text Vector Visualisation" /><link rel="shortcut icon" type="image/x-icon" href="/text-vector-visualisation/images/verloop.ico"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Text Vector Visualisation | Visualisation of FastText Vectors Using TensorFlow 1 and 2</title>
<meta name="generator" content="Jekyll v4.0.0" />
<meta property="og:title" content="Text Vector Visualisation" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Visualisation of FastText Vectors Using TensorFlow 1 and 2" />
<meta property="og:description" content="Visualisation of FastText Vectors Using TensorFlow 1 and 2" />
<link rel="canonical" href="https://rohetoric.github.io/text-vector-visualisation/" />
<meta property="og:url" content="https://rohetoric.github.io/text-vector-visualisation/" />
<meta property="og:site_name" content="Text Vector Visualisation" />
<script type="application/ld+json">
{"description":"Visualisation of FastText Vectors Using TensorFlow 1 and 2","@type":"WebSite","url":"https://rohetoric.github.io/text-vector-visualisation/","name":"Text Vector Visualisation","headline":"Text Vector Visualisation","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

<link href="https://unpkg.com/@primer/css/dist/primer.css" rel="stylesheet" />
<link rel="stylesheet" href="//use.fontawesome.com/releases/v5.0.7/css/all.css"><link type="application/atom+xml" rel="alternate" href="https://rohetoric.github.io/text-vector-visualisation/feed.xml" title="Text Vector Visualisation" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css" integrity="sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq" crossorigin="anonymous">
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"> </script>
    <script src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js" integrity="sha384-y23I5Q6l+B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd+qj+o24G5ZU2zJz" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js" integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI" crossorigin="anonymous"></script>
    <script>
    document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement( document.body, {
        delimiters: [
            {left: "$$", right: "$$", display: true},
            {left: "[%", right: "%]", display: true},
            {left: "$", right: "$", display: false}
        ]}
        );
    });
    </script>


<script>
function wrap_img(fn) {
    if (document.attachEvent ? document.readyState === "complete" : document.readyState !== "loading") {
        var elements = document.querySelectorAll(".post img");
        Array.prototype.forEach.call(elements, function(el, i) {
            if (el.getAttribute("title") && (el.className != "emoji")) {
                const caption = document.createElement('figcaption');
                var node = document.createTextNode(el.getAttribute("title"));
                caption.appendChild(node);
                const wrapper = document.createElement('figure');
                wrapper.className = 'image';
                el.parentNode.insertBefore(wrapper, el);
                el.parentNode.removeChild(el);
                wrapper.appendChild(el);
                wrapper.appendChild(caption);
            }
        });
    } else { document.addEventListener('DOMContentLoaded', fn); }
}
window.onload = wrap_img;
</script>

<script>
    document.addEventListener("DOMContentLoaded", function(){
    // add link icon to anchor tags
    var elem = document.querySelectorAll(".anchor-link")
    elem.forEach(e => (e.innerHTML = '<i class="fas fa-link fa-xs"></i>'));
    });
</script>
</head><body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/text-vector-visualisation/">Text Vector Visualisation</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/text-vector-visualisation/about/">About Me</a><a class="page-link" href="/text-vector-visualisation/search/">Search</a><a class="page-link" href="/text-vector-visualisation/categories/">Tags</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <div class="home"><html>
<!-- 
<style>
	table, th, td {
    width: 50%;
    margin-left: auto;
    margin-right: auto;
    border: 1px solid black;
    border-collapse: collapse;
}
</style> -->



<body>
<center><h1><b>Exploration and Visualisation Of Word Vectors in Chat</b></h1></center>

<p>
<h4>
At <a href="https://verloop.io/">Verloop</a>, we observed that the exploration-pipeline for different intents helped us in seeing a coverage jump of about <b>~10-11%</b> from the dataset the machine learning model wasn't able to cover after it's first run of prediction. This is because, we weren't extracting misspellings and paraphrased sentences of the intents before.
</h4>
</p>

<p>
<h4>
Although the data used for the pipeline in this blog-post is based on the articles printed in BBC newspapers, the underlying logic replicates to chat data as well.  
For example, the intent <i><u>exchange</u></i> found in chat queries of E-Commerce companies like Amazon can be misspelled and written as:
<ol>
<li><i>Order hasn't been <u>exchanged</u> yet!</i></li>
<li><i>Please <u>ex change</u> my product.</i></li>
<li><i>Expecting <u>exch</u> to take place by Thursday.</i></li>
</ol>
</h4>
</p>


<p>
<h4>
The same intent can be paraphrased as:
<ol>
<li><i><u>Change</u> my product. It is not working.</i></li>
<li><i>I had issued a <u>replacement</u>. What is its status?</i></li>
<li><i>Order hasn't been <u>replaced</u> yet. Who is responsible here?</i></li>
</ol> 
</h4>
</p>

<p>
<h4>
 It is not feasible to use <a href="https://itnext.io/string-similarity-the-basic-know-your-algorithms-guide-3de3d7346227">Edit-distance based, Token based, and Sequence-based algorithmic approaches</a> to cover all the misspellings as well as paraphrased sentences of an intent in the dataset. The exploration-pipeline, here, can do that, increasing the coverage of the intent in the dataset.  
</h4>
</p>

<p>
<h4>The exploration-pipeline is diagrammatically represented as:</h4>
</p>

<div style="display: flex; justify-content: center;">
  <img src="images/flowchart.png" alt="Flowchart" style="width: auto; height: 170px; border: 1px;" />
</div>

<p>
<h4>
A popular idea in machine learning is to represent words by vectors. FastText vectors capture hidden information about a language, like <b><i>word analogies</i></b> or <b><i>semantic inforamtion</i></b>.
</h4>
</p>

<p>
<h4>
The word analogies and semantic information help us in :
<ol>
<li>Finding and extracting misspellings of a target word in the entire dataset.</li>
<li>Finding words that occur commonly in context (in neighbour) to the target word.</li>
<li>Finding similarity between different words given as a cosine of the angle between the word vectors.</li>
</ol>
</h4>
</p>

<p>
<h4>
Visualisation on TensorBoard gives us a 3-dimensional view of a 300-dimensional FastText word vector. It makes us visualise and extract the top misspellings and the closest neighbouring words of a target intent, increasing the coverage of the intent in the dataset. 
</h4>
</p>

<p>
<h4>
To begin with the execution, it is important to know the pre-requisites and execution steps which can be found <a href="https://rohetoric.github.io/text-vector-visualisation/markdown/jupyter/fasttext/tensorflow/tensorboard/2020/05/18/ExecutionSteps.html">here</a>.
</h4>
</p>

<hr />

</body>
<h1> Posts </h1>

<!-- <p>
<h4>
This practice is beneficial when we want to cover the maximum number of sentences which have the same semantic information or intent in the dataset. This is called <b>coverage</b> of the intent in the dataset. By using the exploration-pipeline [shown below], the coverage for an intent can be increased.
</h4>
</p>

 
 -->









<!-- <h2><b>Requirements and Dependencies</b></h2>



<h4>To run the code the following are a <b><i>must</i></b> to be installed:</h4>

<p>   
<table>
  <tr>
    <th><h4><b>Serial No</b></h4></th>
    <th><h4><b>Libraries to Install</b></h4></th> 
  </tr>
  <tr>
    <td style="text-align: center"><h4>1.</h4></td>
    <td style="text-align: center"><h4><a href="https://fasttext.cc/docs/en/support.html">FastText</a></h4></td>  
  </tr>
  <tr>
    <td style="text-align: center"><h4>2.</h4></td>
    <td style="text-align: center"><h4><a href="https://www.tensorflow.org/api_docs">TensorFlow</a></h4></td>
  </tr>
  <tr>
    <td style="text-align: center"><h4>3.</h4></td>
    <td style="text-align: center"><h4><a href="https://spacy.io/usage">Spacy</a></h4></td>
  </tr>
</table>
</p>



<h2><b>Steps to Execute</b></h2>

<h4>
<p>	
1. Download the <i>bbc-text.csv</i> dataset from <a href="https://storage.googleapis.com/dataset-uploader/bbc/bbc-text.csv">here</a> or it can be downloaded through the terminal if gcloud is already setup by the command:<br>
<code>gsutil cp gs:​//​dataset-uploader​/bbc/​bbc-text.csv [path to notebook directory]</code>
</p>
<p>
2. Make sure all the libraries are present/updated according to the <u>requirements</u> mentioned above.
</p>
<p>
3. To train the model according to the above complete dataset using FastText, run the notebook given <a href="https://rohetoric.github.io/text-vector-visualisation/jupyter/fasttext/python/2020/05/20/fasttext-model-train.html">here</a>. A pre-trained model (2.4 GB size) based on the same dataset can be downloaded from <a href="https://learnermanipal-my.sharepoint.com/:u:/g/personal/rohit_rajesh_learner_manipal_edu/EXiXnzOeVN9KsdWpoFgr4CABfblCuo8RamsdLM9NUyatyA?e=yjkplM">here</a>.
</p>
<p>
According to the FastText documentation:
</p>
<p>
<blockquote><h4>The most important parameters of the model are its dimension and the range of size for the subwords. The dimension controls the size of the vectors, the larger they are the more information they can capture but requires more data to be learned. As any value in the 100-300 range is popular, the notebook has been implemented with a dimension equal to 300.</h4></blockquote>
</p>
<p>
<b>Steps 4,5 and 6 differ for TF1 and TF 2. After that, the steps are the same.</b>
</p>

<hr>

<center>
<h3><b>To Visualise Embeddings Using TF1 [<font color='red'>NOT ADVISED</font>]</b></h3>
</center>

<p>
4. Create a folder called <u>tb1files</u> in the same directory of the notebooks​ and keep it empty. It will store all the TensorFlow log files after step 5 is run.
</p>
<p>
5. Run the notebook ​present <a href="https://rohetoric.github.io/text-vector-visualisation/jupyter/tensorflow/python/2020/05/21/tb1vis.html">here</a>​.
</p>
<p>
6. Set the terminal address path to the directory where the files are stored in the terminal and type the command: <code>tensorboard ​--logdir tb1files/</code>
</p>
<p>
The above command would yield a result:
</p>

<div style="display: flex; justify-content: center;">
<img src="images/cmdtb1.png" alt="TB1 Terminal Command" style="width: auto; height: 250px;" /> 
</div>

<hr>

<center>
<h3><b>To Visualise Embeddings Using TF2 [<font color='green'>ADVISED</font>]</b></h3>
</center>

<p>
4. Create a folder called <u>tb2files</u> in the same directory of the notebooks​ and keep it empty. It will store all the TensorFlow log files after step 5 is run.
</p>
<p>
5. Run the notebook ​present <a href="https://rohetoric.github.io/text-vector-visualisation/jupyter/tensorflow/python/2020/05/21/tb2vis.html">here</a>.
</p>
<p>
6. Set the terminal address path to the directory where the files are stored in the terminal and type the command: <code>tensorboard ​--logdir tb2files/</code>.
</p>
<p>
The above command would yield a result:
</p>

<div style="display: flex; justify-content: center;">
<img src="images/cmdtb2.png" alt="TB2 Terminal Command" style="width: auto; height: 250px;" /> 
</div>

<hr>

<p>
7. Open the local host URL link present in the last line. For Example: <code>http://localhost:6008/</code> [in TB1 Command image].
</p>
<p>
8. The local host website shown below will run. From the drop-down which reads Inactive, press and go to Projector as depicted by the arrow in the image below.
</p>

<div style="display: flex; justify-content: center;">
<img src="images/projector.png" alt="Projector Image" style="width: auto; height: 350px;" />
</div>

<p>
9. This will plot the words according to their embedding values shown in the 3D graph of the TensorBoard. The nearest neighbours of a word can be found by typing the word in the search bar, as done for the example <b>‘plea’</b> shown below.
</p>


<div style="display: flex; justify-content: center;">
  <img src="images/tbvis.png" alt = "Visualisation on Tensorboard" style="width: auto; height: 350px;" />
</div>
<br>
 -->
<!--  <p>
<h4>
In <a href="https://verloop.io/">Verloop</a>, we observed that the exploration-pipeline for different intents helped us in seeing a coverage jump of about <b>~10-11%</b> from the dataset the machine learning model wasn't able to cover after it's first run of prediction. This guaranteed the success in working of the pipeline. 
</h4>
</p>
<p>
<h4>
To begin with the execution, it is important to know the pre-requisites which can be known from <a href="https://rohetoric.github.io/text-vector-visualisation/markdown/jupyter/fasttext/tensorflow/tensorboard/2020/05/18/ExecutionSteps.html">here</a>.
</h4>
</p>

<hr>

</body>
<h1> Posts </h1> -->
</html>



  

  <!-- Hide posts if front matter flag hide:true -->
  
  

  <!-- Sort posts by rank, then date -->
  
  
  

 
  

   <!-- Assemble final sorted posts array -->
  
  <ul class="post-list"><li><div class="Box box-shadow-medium rounded-1 col-12"><div class="col-8 d-table-cell p-3">
        <h3>
          <a class="post-link" href="/text-vector-visualisation/jupyter/tensorflow/python/2020/05/21/tb2vis.html">
            Visualising Word Vectors Using TF2 [Advisable]
          </a>
        </h3>
        <p class="post-meta-description">Exploration and Visualisation of Word Vectors Using TensorFlow 2</p>
          <p class="post-meta">May 21, 2020</p>
      </div>
  </div></li><li><div class="Box box-shadow-medium rounded-1 col-12"><div class="col-8 d-table-cell p-3">
        <h3>
          <a class="post-link" href="/text-vector-visualisation/jupyter/tensorflow/python/2020/05/21/tb1vis.html">
            Visualising Word Vectors Using TF1 [Not Advisable]
          </a>
        </h3>
        <p class="post-meta-description">Exploration and Visualisation of Word Vectors Using TensorFlow 1</p>
          <p class="post-meta">May 21, 2020</p>
      </div>
  </div></li><li><div class="Box box-shadow-medium rounded-1 col-12"><div class="col-8 d-table-cell p-3">
        <h3>
          <a class="post-link" href="/text-vector-visualisation/jupyter/fasttext/python/2020/05/20/fasttext-model-train.html">
            Generating Word Vectors Using FastText Blog-Post
          </a>
        </h3>
        <p class="post-meta-description">Conversion of words in the vocabulary of the dataset to vectors using FastText.</p>
          <p class="post-meta">May 20, 2020</p>
      </div>
  </div></li><li><div class="Box box-shadow-medium rounded-1 col-12"><div class="col-8 d-table-cell p-3">
        <h3>
          <a class="post-link" href="/text-vector-visualisation/markdown/jupyter/fasttext/tensorflow/tensorboard/2020/05/18/ExecutionSteps.html">
            Prerequisites for Exploration-Pipeline
          </a>
        </h3>
        <p class="post-meta-description">A complete guide on the requirements needed and the step by step execution of the exploration-pipeline.</p>
          <p class="post-meta">May 18, 2020</p>
      </div>
  </div></li></ul>

    </div>
      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/text-vector-visualisation/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p class="feed-subscribe">
          <a href="/text-vector-visualisation/feed.xml">
            <svg class="svg-icon orange">
              <use xlink:href="/text-vector-visualisation/assets/minima-social-icons.svg#rss"></use>
            </svg><span>Subscribe</span>
          </a>
        </p>
      </div>
      <div class="footer-col">
        <p>Visualisation of FastText Vectors Using TensorFlow 1 and 2</p>
      </div>
    </div>

    <div class="social-links"><ul class="social-media-list"><li><a rel="me" href="https://github.com/rohetoric" title="rohetoric"><svg class="svg-icon grey"><use xlink:href="/text-vector-visualisation/assets/minima-social-icons.svg#github"></use></svg></a></li><li><a rel="me" href="https://www.linkedin.com/in/rohit-bhardwaj-a81737128" title="rohit-bhardwaj-a81737128"><svg class="svg-icon grey"><use xlink:href="/text-vector-visualisation/assets/minima-social-icons.svg#linkedin"></use></svg></a></li><li><a rel="me" href="https://twitter.com/rohetoric" title="rohetoric"><svg class="svg-icon grey"><use xlink:href="/text-vector-visualisation/assets/minima-social-icons.svg#twitter"></use></svg></a></li></ul>
</div>

  </div>

</footer>
</body>

</html>
